<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Mon Aug 13 00:10:11 EDT 2012 -->
<title>PerformanceAnalyzer</title>
<meta name="date" content="2012-08-13">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PerformanceAnalyzer";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PerformanceAnalyzer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ru/bit/torrent/PieceMessage.html" title="class in ru.bit.torrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ru/bit/torrent/PerformanceAnalyzer.html" target="_top">Frames</a></li>
<li><a href="PerformanceAnalyzer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ru.bit.torrent</div>
<h2 title="Class PerformanceAnalyzer" class="title">Class PerformanceAnalyzer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ru.bit.torrent.PerformanceAnalyzer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">PerformanceAnalyzer</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../ru/bit/torrent/Manager.html" title="class in ru.bit.torrent">Manager</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#manager">manager</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#peersPopulated">peersPopulated</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#totalNumPieces">totalNumPieces</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#PerformanceAnalyzer(ru.bit.torrent.Manager, int)">PerformanceAnalyzer</a></strong>(<a href="../../../ru/bit/torrent/Manager.html" title="class in ru.bit.torrent">Manager</a>&nbsp;manager,
                   int&nbsp;totalNumPieces)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#chokeSlowestPeer()">chokeSlowestPeer</a></strong>()</code>
<div class="block">Iterates through peer list and determines the peer with the slowest upload speed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#prioritizePieces()">prioritizePieces</a></strong>()</code>
<div class="block">Iterates over all peers to determine which pieces they have
 and keeps count of how many peers have the piece at that index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#run()">run</a></strong>()</code>
<div class="block">Run method has two Thread.sleep() calls.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#unchokeRandom(ru.bit.torrent.Peer)">unchokeRandom</a></strong>(<a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a>&nbsp;dontUnchoke)</code>
<div class="block">From a pool of currently choked peers, choose one to unchoke.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html#waitForPeersToPopulate()">waitForPeersToPopulate</a></strong>()</code>
<div class="block">Waits while peers' available pieces populates, before trying to prioritize them.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="manager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>manager</h4>
<pre>private&nbsp;<a href="../../../ru/bit/torrent/Manager.html" title="class in ru.bit.torrent">Manager</a> manager</pre>
</li>
</ul>
<a name="totalNumPieces">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalNumPieces</h4>
<pre>private&nbsp;int totalNumPieces</pre>
</li>
</ul>
<a name="peersPopulated">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>peersPopulated</h4>
<pre>private&nbsp;boolean peersPopulated</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PerformanceAnalyzer(ru.bit.torrent.Manager, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PerformanceAnalyzer</h4>
<pre>public&nbsp;PerformanceAnalyzer(<a href="../../../ru/bit/torrent/Manager.html" title="class in ru.bit.torrent">Manager</a>&nbsp;manager,
                   int&nbsp;totalNumPieces)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="prioritizePieces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prioritizePieces</h4>
<pre>public&nbsp;void&nbsp;prioritizePieces()</pre>
<div class="block">Iterates over all peers to determine which pieces they have
 and keeps count of how many peers have the piece at that index.
 Then, it arranges those indexes from lowest to highest
 so, if only 1 peer has piece index 3 and 5 peers have the pieces
 at index 0, 1, 2, and 4, the resulting array would be
 [3, 0, 1, 2, 4]</div>
</li>
</ul>
<a name="waitForPeersToPopulate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForPeersToPopulate</h4>
<pre>public&nbsp;void&nbsp;waitForPeersToPopulate()</pre>
<div class="block">Waits while peers' available pieces populates, before trying to prioritize them.</div>
</li>
</ul>
<a name="chokeSlowestPeer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chokeSlowestPeer</h4>
<pre>private&nbsp;<a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a>&nbsp;chokeSlowestPeer()</pre>
<div class="block">Iterates through peer list and determines the peer with the slowest upload speed. 
 Depending on whether we have the full torrent file downloaded or not
 it will choke the peer with the slowest upload speed or the slowest download speed. 
 
 Returns the peer that was choked.</div>
</li>
</ul>
<a name="unchokeRandom(ru.bit.torrent.Peer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unchokeRandom</h4>
<pre>private&nbsp;void&nbsp;unchokeRandom(<a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a>&nbsp;dontUnchoke)</pre>
<div class="block">From a pool of currently choked peers, choose one to unchoke.</div>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Run method has two Thread.sleep() calls. This is because during debugging, you
 don't want to have to wait for 30 seconds for it to do something. Also, when it 
 is fully completed, the sooner during runtime that the performance analysis is 
 started, the better it will be for the program's overall performance. However,
 it still needs a few seconds to accumulate some data, in order to complete this 
 analysis effectively.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PerformanceAnalyzer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ru/bit/torrent/PieceMessage.html" title="class in ru.bit.torrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ru/bit/torrent/PerformanceAnalyzer.html" target="_top">Frames</a></li>
<li><a href="PerformanceAnalyzer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Mon Aug 13 00:10:10 EDT 2012 -->
<title>Manager</title>
<meta name="date" content="2012-08-13">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Manager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Manager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ru/bit/torrent/HaveMessage.html" title="class in ru.bit.torrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ru/bit/torrent/Message.html" title="class in ru.bit.torrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ru/bit/torrent/Manager.html" target="_top">Frames</a></li>
<li><a href="Manager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ru.bit.torrent</div>
<h2 title="Class Manager" class="title">Class Manager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ru.bit.torrent.Manager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Manager</span>
extends java.lang.Object</pre>
<div class="block">This class handles the overall flow of the application.  When the tracker returns peers, it checks, 
 configures, and starts them. When pieces are completed by a peer it validates and saves.  It keeps track of
 which pieces we have and thus facilitates which pieces should be requested, and when to choke or unchoke peers. 
 Also has a Tracker with which it interacts.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Dylan Murray, Jonas Schreiber, Charles Zuppe</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#dlPath">dlPath</a></strong></code>
<div class="block">The path where user wants to ultimately download the file to.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../ru/bit/torrent/FileAccess.html" title="class in ru.bit.torrent">FileAccess</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#fa">fa</a></strong></code>
<div class="block">FileAccess provides this Random Access</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#listeningPort">listeningPort</a></strong></code>
<div class="block">The port which the SocketListener has found to be open.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean[]</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#myPieces">myPieces</a></strong></code>
<div class="block">A boolean array used to store all the pieces we download.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#numUnchoked">numUnchoked</a></strong></code>
<div class="block">Keeps track of how many peers we have unchoked.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html" title="class in ru.bit.torrent">PerformanceAnalyzer</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#pa">pa</a></strong></code>
<div class="block">An object which contains Performance Analysis utilities</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#paThread">paThread</a></strong></code>
<div class="block">A Thread that the analysis is handled on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#peerDisplay">peerDisplay</a></strong></code>
<div class="block">A Thread to run GUI to keep track of peer status.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#peerID">peerID</a></strong></code>
<div class="block">The peerID the user will use to connect to tracker.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#peers">peers</a></strong></code>
<div class="block">The list of valid peers (currently RUBT11) that have a piece of the file we're trying to download.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#piecesByRarity">piecesByRarity</a></strong></code>
<div class="block">An array of pieces ordered by rarity/</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean[]</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#piecesInProg">piecesInProg</a></strong></code>
<div class="block">Pieces in progress - any pieces that are currently being downloaded from a peer will be kept track of here.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#rc">rc</a></strong></code>
<div class="block">A Runnable class which accepts quit messages.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../ru/bit/torrent/SocketListener.html" title="class in ru.bit.torrent">SocketListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#socketListener">socketListener</a></strong></code>
<div class="block">Objects used to listen for connecting peers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#stopThreads">stopThreads</a></strong></code>
<div class="block">A boolean which lets threads know when to stop</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../ru/bit/torrent/TorrentInfo.html" title="class in ru.bit.torrent">TorrentInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#torrentInfo">torrentInfo</a></strong></code>
<div class="block">The TorrentInfo object corresponding the torrent specified in the command line.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../ru/bit/torrent/Tracker.html" title="class in ru.bit.torrent">Tracker</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#tracker">tracker</a></strong></code>
<div class="block">Creates a tracker object through which we can communicate with.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../ru/bit/torrent/TrackerStats.html" title="class in ru.bit.torrent">TrackerStats</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#trackerStats">trackerStats</a></strong></code>
<div class="block">A TrackerStats object, which contains the statistics
 relevant to the tracker for use between sessions</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#trackerThread">trackerThread</a></strong></code>
<div class="block">A Thread object corresponding to the Tracker class
 This must be on its own separate Thread, as it sleeps
 for the min interval specified by the tracker.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ru/bit/torrent/Manager.html#Manager(java.lang.String, ru.bit.torrent.TorrentInfo, byte[])">Manager</a></strong>(java.lang.String&nbsp;dlPath,
       <a href="../../../ru/bit/torrent/TorrentInfo.html" title="class in ru.bit.torrent">TorrentInfo</a>&nbsp;torrentInfo,
       byte[]&nbsp;peerID)</code>
<div class="block">Constructor for Manager class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#addToDownloaded(int)">addToDownloaded</a></strong>(int&nbsp;amount)</code>
<div class="block">Passes control to Tracker's add to downloaded method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#addToUploaded(int)">addToUploaded</a></strong>(int&nbsp;amount)</code>
<div class="block">Passes control to Tracker's add to uploaded method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#connectToPeers()">connectToPeers</a></strong>()</code>
<div class="block">Sets up a TCP connection with each valid peer (creates sockets).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#exit()">exit</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getDlPath()">getDlPath</a></strong>()</code>
<div class="block">Used by FileAccess</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getListeningPort()">getListeningPort</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getNumPiecesWeHave()">getNumPiecesWeHave</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getNumPiecesWeNeed()">getNumPiecesWeNeed</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../ru/bit/torrent/PerformanceAnalyzer.html" title="class in ru.bit.torrent">PerformanceAnalyzer</a></code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getPA()">getPA</a></strong>()</code>
<div class="block">Returns the performance analyzer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getPeerID()">getPeerID</a></strong>()</code>
<div class="block">Gets the peerID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean[]</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getPieces()">getPieces</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#getUnsortedNeededPieces()">getUnsortedNeededPieces</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#isDownloadComplete()">isDownloadComplete</a></strong>()</code>
<div class="block">Checks to see if we've successfully received all pieces of the file so we can send Event Complete to Tracker.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#populatePeers(java.util.ArrayList)">populatePeers</a></strong>(java.util.ArrayList&lt;<a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a>&gt;&nbsp;trackerPeers)</code>
<div class="block">Iterate through the list of peers, and create a new list that only meets the specified requirements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#savePiece(ru.bit.torrent.PieceMessage)">savePiece</a></strong>(<a href="../../../ru/bit/torrent/PieceMessage.html" title="class in ru.bit.torrent">PieceMessage</a>&nbsp;piece)</code>
<div class="block">Saves a piece into our byte[] fileBytes (that will eventually be written to file).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#sendHaveMessages(int)">sendHaveMessages</a></strong>(int&nbsp;pieceIndex)</code>
<div class="block">Queues Have Messages to all relevant peers when a piece has been successfully downloaded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#setListeningPort(int)">setListeningPort</a></strong>(int&nbsp;listeningPort)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#setMyPieces(boolean[])">setMyPieces</a></strong>(boolean[]&nbsp;myPieces)</code>
<div class="block">To be used in the event that the program exited 
 before completing the download the prior time it was run</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#setTrackerStatsDownloaded()">setTrackerStatsDownloaded</a></strong>()</code>
<div class="block">Since TrackerStats does not take Manager as a param,
 in order to display correct amount downloaded, we must
 set it from Manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ru/bit/torrent/Manager.html#verifyPiece(ru.bit.torrent.PieceMessage)">verifyPiece</a></strong>(<a href="../../../ru/bit/torrent/PieceMessage.html" title="class in ru.bit.torrent">PieceMessage</a>&nbsp;piece)</code>
<div class="block">Checks the received piece's hashcode against the torrent file's to see if the piece is valid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="dlPath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dlPath</h4>
<pre>private&nbsp;java.lang.String dlPath</pre>
<div class="block">The path where user wants to ultimately download the file to.</div>
</li>
</ul>
<a name="torrentInfo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>torrentInfo</h4>
<pre>private&nbsp;<a href="../../../ru/bit/torrent/TorrentInfo.html" title="class in ru.bit.torrent">TorrentInfo</a> torrentInfo</pre>
<div class="block">The TorrentInfo object corresponding the torrent specified in the command line.</div>
</li>
</ul>
<a name="peerID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerID</h4>
<pre>private&nbsp;byte[] peerID</pre>
<div class="block">The peerID the user will use to connect to tracker.</div>
</li>
</ul>
<a name="tracker">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tracker</h4>
<pre>private&nbsp;<a href="../../../ru/bit/torrent/Tracker.html" title="class in ru.bit.torrent">Tracker</a> tracker</pre>
<div class="block">Creates a tracker object through which we can communicate with.</div>
</li>
</ul>
<a name="peers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peers</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a>&gt; peers</pre>
<div class="block">The list of valid peers (currently RUBT11) that have a piece of the file we're trying to download.</div>
</li>
</ul>
<a name="myPieces">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myPieces</h4>
<pre>public&nbsp;boolean[] myPieces</pre>
<div class="block">A boolean array used to store all the pieces we download. This ensures that even when we download pieces out of order
 we have a way of organizing them.</div>
</li>
</ul>
<a name="piecesInProg">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>piecesInProg</h4>
<pre>public&nbsp;boolean[] piecesInProg</pre>
<div class="block">Pieces in progress - any pieces that are currently being downloaded from a peer will be kept track of here.</div>
</li>
</ul>
<a name="fa">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fa</h4>
<pre>public&nbsp;<a href="../../../ru/bit/torrent/FileAccess.html" title="class in ru.bit.torrent">FileAccess</a> fa</pre>
<div class="block">FileAccess provides this Random Access</div>
</li>
</ul>
<a name="rc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rc</h4>
<pre>private&nbsp;java.lang.Thread rc</pre>
<div class="block">A Runnable class which accepts quit messages.</div>
</li>
</ul>
<a name="trackerThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trackerThread</h4>
<pre>private&nbsp;java.lang.Thread trackerThread</pre>
<div class="block">A Thread object corresponding to the Tracker class
 This must be on its own separate Thread, as it sleeps
 for the min interval specified by the tracker. Therefore,
 to make the Tracker shut down in a timely fashion, Manager
 must have a handle on it, to call in the exit() method.</div>
</li>
</ul>
<a name="socketListener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>socketListener</h4>
<pre>private&nbsp;<a href="../../../ru/bit/torrent/SocketListener.html" title="class in ru.bit.torrent">SocketListener</a> socketListener</pre>
<div class="block">Objects used to listen for connecting peers.</div>
</li>
</ul>
<a name="trackerStats">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trackerStats</h4>
<pre>private&nbsp;<a href="../../../ru/bit/torrent/TrackerStats.html" title="class in ru.bit.torrent">TrackerStats</a> trackerStats</pre>
<div class="block">A TrackerStats object, which contains the statistics
 relevant to the tracker for use between sessions</div>
</li>
</ul>
<a name="stopThreads">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopThreads</h4>
<pre>public&nbsp;boolean stopThreads</pre>
<div class="block">A boolean which lets threads know when to stop</div>
</li>
</ul>
<a name="pa">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pa</h4>
<pre>public&nbsp;<a href="../../../ru/bit/torrent/PerformanceAnalyzer.html" title="class in ru.bit.torrent">PerformanceAnalyzer</a> pa</pre>
<div class="block">An object which contains Performance Analysis utilities</div>
</li>
</ul>
<a name="paThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>paThread</h4>
<pre>private&nbsp;java.lang.Thread paThread</pre>
<div class="block">A Thread that the analysis is handled on. Executes every 30 seconds</div>
</li>
</ul>
<a name="peerDisplay">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerDisplay</h4>
<pre>private&nbsp;java.lang.Thread peerDisplay</pre>
<div class="block">A Thread to run GUI to keep track of peer status.</div>
</li>
</ul>
<a name="listeningPort">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listeningPort</h4>
<pre>private&nbsp;int listeningPort</pre>
<div class="block">The port which the SocketListener has found to be open.</div>
</li>
</ul>
<a name="numUnchoked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numUnchoked</h4>
<pre>public&nbsp;int numUnchoked</pre>
<div class="block">Keeps track of how many peers we have unchoked.</div>
</li>
</ul>
<a name="piecesByRarity">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>piecesByRarity</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.lang.Integer&gt; piecesByRarity</pre>
<div class="block">An array of pieces ordered by rarity/</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Manager(java.lang.String, ru.bit.torrent.TorrentInfo, byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Manager</h4>
<pre>public&nbsp;Manager(java.lang.String&nbsp;dlPath,
       <a href="../../../ru/bit/torrent/TorrentInfo.html" title="class in ru.bit.torrent">TorrentInfo</a>&nbsp;torrentInfo,
       byte[]&nbsp;peerID)
        throws java.lang.Exception</pre>
<div class="block">Constructor for Manager class. Initializes instance variables, sets up Threads
 facilitates the connection to tracker and peers, and downloads the file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dlPath</code> - </dd><dd><code>torrentInfo</code> - </dd><dd><code>peerID</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="populatePeers(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>populatePeers</h4>
<pre>public&nbsp;void&nbsp;populatePeers(java.util.ArrayList&lt;<a href="../../../ru/bit/torrent/Peer.html" title="class in ru.bit.torrent">Peer</a>&gt;&nbsp;trackerPeers)</pre>
<div class="block">Iterate through the list of peers, and create a new list that only meets the specified requirements.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>trackerPeers</code> - </dd></dl>
</li>
</ul>
<a name="connectToPeers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectToPeers</h4>
<pre>public&nbsp;void&nbsp;connectToPeers()</pre>
<div class="block">Sets up a TCP connection with each valid peer (creates sockets).</div>
</li>
</ul>
<a name="isDownloadComplete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDownloadComplete</h4>
<pre>public&nbsp;boolean&nbsp;isDownloadComplete()</pre>
<div class="block">Checks to see if we've successfully received all pieces of the file so we can send Event Complete to Tracker.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="verifyPiece(ru.bit.torrent.PieceMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyPiece</h4>
<pre>public&nbsp;boolean&nbsp;verifyPiece(<a href="../../../ru/bit/torrent/PieceMessage.html" title="class in ru.bit.torrent">PieceMessage</a>&nbsp;piece)</pre>
<div class="block">Checks the received piece's hashcode against the torrent file's to see if the piece is valid.
 Some of this code is attributable to Rob Moore</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>block</code> - </dd></dl>
</li>
</ul>
<a name="savePiece(ru.bit.torrent.PieceMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePiece</h4>
<pre>public&nbsp;void&nbsp;savePiece(<a href="../../../ru/bit/torrent/PieceMessage.html" title="class in ru.bit.torrent">PieceMessage</a>&nbsp;piece)
               throws java.io.IOException</pre>
<div class="block">Saves a piece into our byte[] fileBytes (that will eventually be written to file).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="sendHaveMessages(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendHaveMessages</h4>
<pre>public&nbsp;void&nbsp;sendHaveMessages(int&nbsp;pieceIndex)
                      throws java.io.IOException</pre>
<div class="block">Queues Have Messages to all relevant peers when a piece has been successfully downloaded.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pieceIndex</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getPeerID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerID</h4>
<pre>public&nbsp;byte[]&nbsp;getPeerID()</pre>
<div class="block">Gets the peerID.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getPieces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPieces</h4>
<pre>public&nbsp;boolean[]&nbsp;getPieces()</pre>
</li>
</ul>
<a name="exit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exit</h4>
<pre>public&nbsp;void&nbsp;exit()
          throws java.io.IOException,
                 java.lang.InterruptedException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="getDlPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDlPath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDlPath()</pre>
<div class="block">Used by FileAccess</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setMyPieces(boolean[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMyPieces</h4>
<pre>public&nbsp;void&nbsp;setMyPieces(boolean[]&nbsp;myPieces)</pre>
<div class="block">To be used in the event that the program exited 
 before completing the download the prior time it was run</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>myPieces</code> - </dd></dl>
</li>
</ul>
<a name="addToDownloaded(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToDownloaded</h4>
<pre>public&nbsp;void&nbsp;addToDownloaded(int&nbsp;amount)</pre>
<div class="block">Passes control to Tracker's add to downloaded method.</div>
</li>
</ul>
<a name="setTrackerStatsDownloaded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTrackerStatsDownloaded</h4>
<pre>public&nbsp;void&nbsp;setTrackerStatsDownloaded()</pre>
<div class="block">Since TrackerStats does not take Manager as a param,
 in order to display correct amount downloaded, we must
 set it from Manager.</div>
</li>
</ul>
<a name="getNumPiecesWeHave()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumPiecesWeHave</h4>
<pre>public&nbsp;int&nbsp;getNumPiecesWeHave()</pre>
</li>
</ul>
<a name="getNumPiecesWeNeed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumPiecesWeNeed</h4>
<pre>public&nbsp;int&nbsp;getNumPiecesWeNeed()</pre>
</li>
</ul>
<a name="getUnsortedNeededPieces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnsortedNeededPieces</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.lang.Integer&gt;&nbsp;getUnsortedNeededPieces()</pre>
</li>
</ul>
<a name="getPA()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPA</h4>
<pre>public&nbsp;<a href="../../../ru/bit/torrent/PerformanceAnalyzer.html" title="class in ru.bit.torrent">PerformanceAnalyzer</a>&nbsp;getPA()</pre>
<div class="block">Returns the performance analyzer</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="addToUploaded(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToUploaded</h4>
<pre>public&nbsp;void&nbsp;addToUploaded(int&nbsp;amount)</pre>
<div class="block">Passes control to Tracker's add to uploaded method.</div>
</li>
</ul>
<a name="getListeningPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListeningPort</h4>
<pre>public&nbsp;int&nbsp;getListeningPort()</pre>
</li>
</ul>
<a name="setListeningPort(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setListeningPort</h4>
<pre>public&nbsp;void&nbsp;setListeningPort(int&nbsp;listeningPort)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Manager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ru/bit/torrent/HaveMessage.html" title="class in ru.bit.torrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ru/bit/torrent/Message.html" title="class in ru.bit.torrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ru/bit/torrent/Manager.html" target="_top">Frames</a></li>
<li><a href="Manager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
